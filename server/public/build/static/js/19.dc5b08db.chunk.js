(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{177:function(e,t,a){"use strict";a.r(t);a(336);var n=a(339),r=(a(337),a(340)),s=a(343),c=(a(173),a(68)),l=a(33),i=a(34),o=a(36),p=a(35),d=a(37),m=a(0),u=a.n(m),h=a(568),w=a.n(h),b=a(55),E=a(124),y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={weather:{},option:{legend:{},tooltip:{},dataset:{source:[]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"},{type:"bar"}]}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(E.a)({url:"/dashboard/weather",method:"get",params:{version:"v1",city:"\u5317\u4eac"}}).then(function(t){t.data&&"OK"===t.data.status?e.setState({weather:t.data.data}):c.a.error(t.data&&t.data.msg||"\u83b7\u53d6\u5929\u6c14\u5931\u8d25")}).catch(function(e){c.a.error(e.message||"\u83b7\u53d6\u5929\u6c14\u5931\u8d25")})}},{key:"componentDidUpdate",value:function(e,t){Object(b.is)(Object(b.Map)(e.data),Object(b.Map)(this.props.data))||(console.log(this.props.data),this.setState({option:Object(s.a)({},this.state.option,{dataset:{source:this.props.data}})}))}},{key:"render",value:function(){var e=this.state,t=e.option,a=e.weather,s=a.data?a.data[0]:{};return u.a.createElement(n.a,{className:"dashboard-row",type:"flex",gutter:24,align:"middle"},u.a.createElement(r.a,{sm:24,md:12,lg:18},u.a.createElement(w.a,{option:t})),u.a.createElement(r.a,{sm:24,md:12,lg:6},u.a.createElement("div",{className:"weather-wrap"},u.a.createElement("div",{className:"weather-head"},u.a.createElement("div",{className:"weather-head-left"},a.city),u.a.createElement("div",{className:"weather-head-right"},u.a.createElement("p",null,s.tem),u.a.createElement("p",null,s.tem1,"/",s.tem2))),u.a.createElement("p",null,u.a.createElement("span",null,s.win&&s.win.map(function(e,t){return u.a.createElement("span",{key:t},e,"\xa0")})),u.a.createElement("span",null,s.win_speed)),u.a.createElement("p",null,"\u7a7a\u6c14\u8d28\u91cf\uff1a",s.air," ",s.air_level),u.a.createElement("p",null,"\u76f8\u5bf9\u6e7f\u5ea6\uff1a",s.humidity),u.a.createElement("p",{className:"weather-tips"},s.air_tips))))}}]),t}(m.Component);t.default=y}}]);
//# sourceMappingURL=19.dc5b08db.chunk.js.map